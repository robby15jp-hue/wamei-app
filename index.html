<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>当て字ジェネレーター | Français → Kanji</title>
<style>
  :root{--bg:#fafafa;--card:#fff;--text:#222;--muted:#666;--line:#e5e7eb;--p:#4f46e5}
  *{box-sizing:border-box} body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans JP',sans-serif;background:var(--bg);color:var(--text);margin:0}
  .app{max-width:820px;margin:0 auto;padding:20px}
  h1{font-size:22px;margin:6px 0 14px}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:6px 0}
  input,button{font-size:16px;padding:10px;border:1px solid var(--line);border-radius:10px;background:#fff}
  input{flex:1;min-width:240px}
  button{background:var(--p);color:#fff;border:none}
  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;margin-top:14px}
  .hit{font-size:22px;line-height:1.2;margin:8px 0}
  .kana{margin-left:6px;color:#666;font-size:14px}
  .copybtn{font-size:12px;padding:6px 8px;margin-left:8px;border:1px solid var(--line);background:#fff;color:#333;border-radius:8px}
  .tips{color:#666;font-size:14px}
  .desc-foreign{color:#2563eb;font-weight:bold;margin:6px 0 2px}
  .desc-jp{color:#555;margin:0 0 8px}
  .badge{display:inline-block;margin-left:8px;padding:2px 8px;border:1px solid var(--line);border-radius:999px;font-size:12px;color:#666}
  .suggest a{display:inline-block;margin:4px 6px 0 0;padding:6px 10px;border:1px solid var(--line);border-radius:999px;color:#333;text-decoration:none}
  footer{color:#777;font-size:12px;margin-top:20px}
</style>
</head>
<body>
<div class="app">
  <h1>フランス語名 → 当て字変換（FR only）</h1>
  <p class="desc-foreign">🌐 Entrez un prénom français (ex : Louis, Léo, Camille). Insensible à la casse et aux accents.</p>
  <p class="desc-jp">フランス語の名前を入力してください（例：ルイ／レオ／カミーユ）。大文字小文字・アクセントの有無を区別しません。</p>

  <div class="row">
    <input id="q" placeholder="Prénom (ex: Louis / Léo / Camille)" autocomplete="off">
    <button id="go">変換</button>
  </div>

  <div id="out" class="card">準備OK。Louis / Léo / Jules / Camille / Chloé / Inès などでテスト。</div>
  <footer>辞書は <code>db</code>、別名は <code>aliases</code> に追加。全件3行解説付き。</footer>
</div>

<script>
/* ===== ユーティリティ（小文字化＋アクセント除去） ===== */
const deburr = s => (s||'').normalize('NFD').replace(/[\u0300-\u036f]/g,'');
const norm = s => deburr(s).toLowerCase().trim();

const out = document.getElementById('out');
document.getElementById('go').addEventListener('click', convert);
document.getElementById('q').addEventListener('keydown', e=>{ if(e.key==='Enter') convert(); });

/* ===== フランス語辞書（variants + 3行解説） ===== */
/* まずは人気名＋通称をカバー。追加は同形式でOK。 */
const db = {
  /* —— 男性 —— */
  "louis": {variants:[["瑠偉","ルイ"],["流位","ルイ"]],
    desc:{foreign:"🌐 Prénom royal français, forme de Louis.",
          extra:"✦ Porté par plusieurs rois de France; classique intemporel.",
          jp:"日本語: フランスの王名として有名な伝統的男性名。"}},
  "gabriel": {variants:[["雅美礼","ガブリエル"],["雅武礼","ガブリエル"]],
    desc:{foreign:"🌐 D’origine hébraïque : « force de Dieu ».",
          extra:"✦ Très courant en France; Gabi/Gab en diminutif.",
          jp:"日本語: ヘブライ語で「神の力」。フランスで非常に一般的。"}},
  "jules": {variants:[["寿琉","ジュール"],["樹琉","ジュール"]],
    desc:{foreign:"🌐 Forme française de Julius.",
          extra:"✦ Chic et littéraire; image classique.",
          jp:"日本語: ユリウス由来の仏語形。上品で文芸的な印象。"}},
  "arthur": {variants:[["亜斗留","アルチュール"],["亜留斗","アルチュール"]],
    desc:{foreign:"🌐 D’origine celtique; lié à la légende du roi Arthur.",
          extra:"✦ Très populaire; son noble et héroïque.",
          jp:"日本語: ケルト起源。アーサー王伝説に結びつく高貴な響き。"}},
  "hugo": {variants:[["友護","ユーゴ"],["悠護","ユーゴ"]],
    desc:{foreign:"🌐 Forme germanique de « esprit/âme ».",
          extra:"✦ Court et moderne; associé à Victor Hugo.",
          jp:"日本語: ゲルマン系。短くモダン。文豪ヴィクトル・ユゴーでも有名。"}},
  "léo": {variants:[["令雄","レオ"],["怜雄","レオ"]],
    desc:{foreign:"🌐 Dérivé de « lion ».",
          extra:"✦ Prénom court, énergique; très en vogue.",
          jp:"日本語: ラテン語で「ライオン」。短く力強い人気名。"}},
  "raphaël": {variants:[["羅破恵留","ラファエル"],["羅羽恵留","ラファエル"]],
    desc:{foreign:"🌐 Hébreu : « Dieu guérit ».",
          extra:"✦ Appelé Raph/ Rafa; artistique et classique.",
          jp:"日本語: 「神は癒す」。芸術的で古典的な響き。"}},
  "nathan": {variants:[["那端","ナタン"],["那譚","ナタン"]],
    desc:{foreign:"🌐 Hébreu : « il a donné ».",
          extra:"✦ Sobre et moderne; fréquent en France.",
          jp:"日本語: ヘブライ語で「与えられた」。落ち着いた現代名。"}},

  /* —— 女性 —— */
  "louise": {variants:[["瑠依世","ルイーズ"],["類伊寿","ルイーズ"]],
    desc:{foreign:"🌐 Féminin de Louis; classique élégant.",
          extra:"✦ Très prisé en France; douceur traditionnelle.",
          jp:"日本語: ルイの女性形。上品で伝統的な人気名。"}},
  "emma": {variants:[["絵真","エマ"],["恵舞","エマ"]],
    desc:{foreign:"🌐 Court, élégant; racines germaniques.",
          extra:"✦ Indémodable et international.",
          jp:"日本語: 端的で上品。各国で長年の人気。"}},
  "jade": {variants:[["翠玉","ジェイド"],["若玉","ジェイド"]],
    desc:{foreign:"🌐 Prénom-mot venant de la pierre « jade ».",
          extra:"✦ Image de pureté et de chance.",
          jp:"日本語: 宝石の翡翠（ジェイド）に由来。清らかで縁起の良い印象。"}},
  "alice": {variants:[["亜莉素","アリス"],["愛莉素","アリス"]],
    desc:{foreign:"🌐 D’origine germanique : « noble ».",
          extra:"✦ Littéraire, doux et lumineux.",
          jp:"日本語: 「高貴」を意味。文芸的で柔らかな響き。"}},
  "chloé": {variants:[["久路恵","クロエ"],["黒江","クロエ"]],
    desc:{foreign:"🌐 Grec : « pousse verte / floraison ».",
          extra:"✦ Très populaire en France depuis 2000s.",
          jp:"日本語: 「芽吹き」。2000年代以降フランスで定番。"}},
  "camille": {variants:[["華美流","カミーユ"],["花美留","カミーユ"]],
    desc:{foreign:"🌐 Prénom épicène français (m/f).",
          extra:"✦ Classique, artistique; Camille Claudel.",
          jp:"日本語: 仏語の男女共用名。古典的で芸術的。"}},
  "inès": {variants:[["伊祢寿","イネス"],["衣祢寿","イネス"]],
    desc:{foreign:"🌐 Forme française d’Inés (Agnès).",
          extra:"✦ Élégant, avec l’accent grave caractéristique.",
          jp:"日本語: アニェス由来の仏語形。気品のある響き。"}},
  "léa": {variants:[["麗亜","レア"],["怜亜","レア"]],
    desc:{foreign:"🌐 Variante de Leah.",
          extra:"✦ Simple et lumineuse; très usitée.",
          jp:"日本語: レア/レアー。シンプルで明るい印象。"}},
  "manon": {variants:[["真乃","マノン"],["愛乃","マノン"]],
    desc:{foreign:"🌐 Diminutif français de Marie.",
          extra:"✦ Typiquement français; doux et familier.",
          jp:"日本語: マリーの仏語愛称形。可憐で親しみやすい。"}}
};

/* —— よくある愛称・綴り差 —— */
const aliases = {
  "leo":"léo","raph":"raphaël","rafa":"raphaël","théo":"théo","theo":"théo","seb":"sébastien","sebastien":"sébastien",
  "agnes":"agnès","ines":"inès","lea":"léa","chloe":"chloé","manu":"emmanuel","nico":"nicolas","max":"maxime"
  // 追加したい場合はここに {短い形: 正式表記} を追記
};

/* ===== 本体 ===== */
function convert(){
  const raw = document.getElementById('q').value;
  if (!raw){ out.textContent = "名前を入力してください。"; return; }

  let key = norm(raw);
  if (aliases[key]) key = norm(aliases[key]);

  const data = db[key];
  if (data){
    out.innerHTML = render(key, data);
    return;
  }

  // サジェスト（アクセント無視で部分一致）
  const cand = Object.keys(db).filter(k=>k.includes(key)).slice(0,12);
  out.innerHTML = `<div class="tips">まだ当て字が登録されていません。</div>
  ${cand.length?`<div class="suggest"><div class="tips" style="margin-top:8px">もしかして：</div>${cand.map(k=>`<a href="#" onclick="fill('${k}');return false;">${k}</a>`).join('')}</div>`:''}`;
}

function render(name, data){
  const list = data.variants.map(([k,ka])=>`
    <div class="hit">${k} <span class="kana">（${ka}）</span>
      <button class="copybtn" onclick="navigator.clipboard&&navigator.clipboard.writeText('${k}（${ka}）')">コピー</button>
    </div>`).join('');
  return `<div class="tips">「${escapeHtml(name)}」の候補 <span class="badge">FR</span></div>
          ${list}
          <div class="desc-foreign">${data.desc.foreign}</div>
          <div class="tips">${data.desc.extra}</div>
          <div class="desc-jp">${data.desc.jp}</div>`;
}

function fill(name){ document.getElementById('q').value = name; convert(); }
function escapeHtml(s){ return (s+"").replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
</script>
</body>
</html>
